(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e){e.exports={__schema:{types:[{kind:"INTERFACE",name:"BestBetInterface",possibleTypes:[{name:"BestBet"},{name:"CitationBestBet"},{name:"LocalBestBet"}]},{kind:"INTERFACE",name:"SearchResponseInterface",possibleTypes:[{name:"CatalogSearchResponse"},{name:"SearchResponse"}]},{kind:"INTERFACE",name:"DocInterface",possibleTypes:[{name:"CatalogItem"},{name:"Doc"}]}]}}},109:function(e,t,a){e.exports=a(243)},243:function(e,t,a){"use strict";a.r(t);a(110);var n=a(0),r=a.n(n),i=a(43),l=a.n(i),c=a(11);var s=function(e,t){return function(a){a.target.onerror=null,a.target.src=e,t&&(a.target.className=t)}};function o(e,t){t||(t=!1);var a=t?"pci_only":"bcl_only",n=t?"pci":"bcl",r=t?"PC":"L";return"https://bc-primo.hosted.exlibrisgroup.com/primo-explore/fulldisplay?docid=".concat(e.id,"&context=").concat(r,"&tab=").concat(a,"&search_scope=").concat(n,"&vid=bclib_new&lang=en_US")}var u=function(e,t){return(e=e.replaceAll(" ;",";"))?e.length<t?e:e.substr(0,e.lastIndexOf(" ",t))+" [\u2026]":""},m=120;function d(e){return u(function(e){if(e.creator)return e.creator;if(e.contributors[0])return e.contributors[0];return""}(e),m)}var h="https://library.bc.edu/images/blank-screen.svg";var f=function(e){var t=e.video,a=t.screenCap?t.screenCap:h,n=t.screenCap?"online-video-thumb__screenshot":"online-video-thumb__blank_screen",i="https://mlib.bc.edu/reserves-api/items/".concat(t.mms),l=o(t);return r.a.createElement("div",{className:"online-video"},r.a.createElement("a",{href:i},r.a.createElement("div",{className:"online_video__thumb"},r.a.createElement("img",{src:a,alt:"Watch ".concat(t.title," online"),onError:s(h),className:n}))),r.a.createElement("h3",{className:"online-video__media-heading media-heading"},r.a.createElement("a",{href:l,className:"online-video__title"},t.title)),t.date,r.a.createElement("div",{className:"online-video__creator"},d(t)),r.a.createElement("div",{className:"online-video__watch-link"},r.a.createElement("a",{href:i},"Watch online")))};var v=function(e){var t=e.item;return r.a.createElement("div",{className:"item-info item-info--unavailable"},"Not available. ",r.a.createElement("a",{href:o(t)},"Check for more options"),".")};var b=function(e){var t=e.item,a=e.library,n=e.location;return r.a.createElement("div",{className:"item-info item-info--check-holdings"},r.a.createElement("span",{className:"item-info__instructions"},r.a.createElement("a",{href:o(t,!1)},'Check "Find in Library"')),r.a.createElement("span",{className:"item-info__library"},a),r.a.createElement("span",{className:"item-info__location"},n),".")};var g=function(e){var t=e.firstHolding,a=e.inOtherLibraries;return r.a.createElement("ul",{className:"available-items-list"},r.a.createElement("li",{className:"item-info item-info--available"},r.a.createElement("a",{href:t.link},r.a.createElement("span",{className:"item-info__library"},"Find in ",t.libraryDisplay),r.a.createElement("span",{className:"item-info__location"},t.location),r.a.createElement("span",{className:"item-info__callno"},"(",t.callNumber,")"),r.a.createElement("span",{className:"item-info__other-libraries"},a&&" and other libraries"))))};var E={ONL:{weight:-1,Stacks:-3,"1st Floor Microfilm":1},TML:{weight:0},BAPST:{weight:0},BURNS:{weight:0},ERC:{weight:0},SWK:{weight:0},LAW:{weight:0},GEO:{weight:1},RES_SHARE:{weight:2},DEV:{weight:2},INT:{weight:1}};function p(e,t){var a=E[e];return a[t]?a[t]+a.weight:a.weight}function y(e,t){return p(e.library,e.locationCode)-p(t.library,t.locationCode)}var _=function(e){var t=e.item,a=function(e){for(var t,a,n=[],r=0;r<e.holdings.length;r++)t=e.holdings[r],a=t.items.filter(function(e){return"available"===e.availability}),Array.prototype.push.apply(n,a);return n.sort(y)}(t),n=a.length>0?a[0]:null;return t.holdings[0]&&"check_holdings"===t.holdings[0].availabilityStatus?r.a.createElement(b,{item:t,library:t.holdings[0].libraryCode,location:t.holdings[0].locationDisplay}):n?r.a.createElement(g,{firstHolding:n,inOtherLibraries:a.length>1}):r.a.createElement(v,{item:t})},N="https://library.bc.edu/images/mono-dvd-mount.svg",w="physical-video__dvd-cover",k="https://library.bc.edu/images/video-tape.svg",x="physical-video__vhs-cover";function j(e){return e.coverImages.length>0&&e.coverImages[0]?"physical-video__box_cover":"OPER HERE NOW physical-video__default_cover  ".concat(x)}function O(e){1===e.target.naturalHeight&&(e.target.className="physical-video__default_cover ".concat(x),e.target.src=k)}var S=function(e){var t=e.video;t.format.includes("disc")&&(k=N,x=w);var a=function(e){return e.coverImages.length>0&&e.coverImages[0]?String(e.coverImages[0].url):k}(t),n="Catalog record for ".concat(t.title),i=o(t,!0);return r.a.createElement("div",{className:"physical-video"},r.a.createElement("a",{href:i,"aria-hidden":"true"},r.a.createElement("img",{src:a,onLoad:O,onError:s(k,"OPER physical-video__default_cover ".concat(x)),alt:n,className:j(t)})),r.a.createElement("h3",{className:"physical-video__media-heading media-heading"},r.a.createElement("a",{href:i,className:"physical-video__title"},t.title)),t.date,r.a.createElement("div",{className:"physical-video__creator"},d(t)),t.format,r.a.createElement(_,{item:t}))};var T=function(e){var t=e.item,a=e.inCatalogResult,n=t.isElectronic?r.a.createElement(f,{video:t}):r.a.createElement(S,{video:t}),i=a?"catalog-result-item":"catalog-result-item col-md-4";return r.a.createElement("li",{className:i},n)};var C=function(e){var t=e.url;return r.a.createElement("div",{className:"hathi-trust-link"},r.a.createElement("div",{className:"hathi-trust-link__icon"}),r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"Full Text Available at HathiTrust",r.a.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"})))};var R=function(e){var t=e.itemUrl,a=e.imageUrl,n=e.specialClass,i="cover-image ".concat(n);return r.a.createElement("div",{className:"media-right"},r.a.createElement("a",{href:t,"aria-hidden":"true"},r.a.createElement("img",{src:a,alt:"",className:i})))};var I=function(e){var t=e.url;return r.a.createElement("div",{className:"catalog-result-item__getit"},r.a.createElement("a",{href:t},"Find online"))};var D=function(e){var t=e.item;if(t.isElectronic&&"Video"===t.type)return r.a.createElement(T,{item:t,inCatalogResult:!0});var a=o(t);return r.a.createElement("li",{className:"catalog-result-item media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h3",{className:"catalog-result-item__media-heading media-heading"},r.a.createElement("a",{href:a,className:"catalog-result-item__title"},t.title)),r.a.createElement("div",{className:"catalog-result-item__creator"},d(t)),r.a.createElement("div",{className:"catalog-result-item__publisher"},t.publisher," ",t.date),r.a.createElement("div",{className:"catalog-result-item__type"},t.type),t.isElectronic&&r.a.createElement(I,{url:a}),t.isPhysical&&r.a.createElement(_,{item:t}),t.hathitrustUrl&&r.a.createElement(C,{url:t.hathitrustUrl})),t.coverImages.length>1&&r.a.createElement(R,{itemUrl:a,imageUrl:t.coverImages[0].url}))},B=a(47);var F=function(e){var t=e.total,a=e.found,n=e.term,i=e.url;return t||(t=0),t<=a?r.a.createElement("div",{className:"see-all-link--empty"}):n?r.a.createElement("div",{className:"see-all-link"},r.a.createElement("span",{className:"see-all-link__prefix"},">")," ",r.a.createElement("a",{href:i},"See all ",t.toLocaleString()," ",n)):r.a.createElement("div",{className:"see-all-link--badge"},r.a.createElement("a",{href:i},"See all"))};var L=function(e){var t=e.heading,a=(e.searchUrl,e.seeAll),n=e.children;return r.a.createElement("div",{className:"bento-results-box","aria-live":"polite"},r.a.createElement("div",{className:"bento-results-box__header-row"},r.a.createElement("h2",null,t),a),n)};var U=function(e){var t=e.heading;return r.a.createElement(L,{heading:t},r.a.createElement("div",{className:"bento-results-box__loading-notice"},"Loading..."))};var A=function(e){var t=e.heading;return r.a.createElement(L,{heading:t},r.a.createElement("div",{className:"bento-results-box__error-notice"},"There was an error performing this search."))};var q=function(e){var t=e.heading,a=e.content;return r.a.createElement(L,{heading:t},r.a.createElement("div",{className:"bento-results-box__no-results"},a))};var P=function(e){var t=e.docs,a=e.classPrefix,n=e.renderResult;return r.a.createElement("div",{className:"".concat(a,"-results-box")},r.a.createElement("ol",{className:"".concat(a,"-results-list")},t.map(n)))},W=[],z=0,V=10;function M(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;W.push({level:e,message:t}),(z+=a)>V&&J()}window.addEventListener("unload",J,!1);var H={emergency:function(e){M("emergency",e,100),J()},alert:function(e){M("alert",e,10)},critical:function(e){M("critical",e,10),J()},error:function(e){M("error",e,3)},warning:function(e){M("warning",e,2)},info:function(e){M("info",e)},debug:function(e){M("debug",e)}};function J(){!function(){var e=JSON.stringify({events:W});navigator.sendBeacon("https://library.bc.edu/bcbento-server/log",e)}(),W.length=0,z=0}var Q=function(e){var t=e.client,a=e.heading,n=e.term,i=e.classPrefix,l=e.renderResult,c=e.query,s=e.noResultsContent,o=void 0===s?"There are no results matching your search.":s,u=e.handleFetch,m=e.modifier;try{var d=Object(B.a)(c.gql,{client:t}),h=d.loading,f=d.error,v=d.data;if(h)return r.a.createElement(U,{heading:a});if(f)return r.a.createElement(A,{heading:a});if(0===v[c.object].total)return r.a.createElement(q,{heading:a,content:o});var b=v[c.object].docs?v[c.object].docs:v[c.object].results;!function(e,t){e&&e(t||[])}(u,b);var g=v[c.object].searchUrl,E=r.a.createElement(F,{term:n,total:v[c.object].total,found:b.length,url:g});return a=r.a.createElement("a",{href:g},a),r.a.createElement(L,{heading:a,seeAll:E,searchUrl:g},m,r.a.createElement(P,{classPrefix:i,docs:b,renderResult:l}))}catch(p){return H.error("Error on GraphQL search: ".concat(c.gql)),r.a.createElement(A,{heading:a})}},K=a(10),G=a(4),$=a(7),X=a.n($);function Y(e){return e.replace(/"/g,'\\"').replace("/\\/g","\\").replace(/(\r\n|\n|\r)/gm," ")}function Z(){var e=Object(K.a)(['\n{\n  searchOnline( keyword: "','", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages { \n        url\n      },\n      available,\n      hathitrustUrl,\n      isPhysical,\n      isElectronic,\n      screenCap,\n      mms,\n      holdings {\n        ilsId,\n        libraryCode,\n        locationDisplay,\n        locationCode,\n        availabilityStatus,\n        callNumber,\n        items {\n          availability,\n          locationCode,\n          location,\n          libraryDisplay,\n          library,\n          callNumber\n         }\n       }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}']);return Z=function(){return e},e}var ee=function e(t){Object(G.a)(this,e),this.object="searchOnline",this.gql=function(e){return X()(Z(),Y(e))}(t)};function te(e){var t=encodeURIComponent(e),a="https://bc.on.worldcat.org/search?databaseList=&queryString=".concat(t);return r.a.createElement("div",{className:"catalog-no-results-box"},r.a.createElement("p",null,"There are no results matching your search."),r.a.createElement("p",{className:"catalog-no-results-box__worldcat-advice"},"Try your search in ",r.a.createElement("a",{href:a},"WorldCat")," for results beyond BC Libraries."))}var ae=function(e){var t=e.searchString,a=e.client,n=e.toggle;return r.a.createElement(Q,{client:a,heading:"Books & more",classPrefix:"books",term:"items",query:new ee(t),renderResult:function(e){return r.a.createElement(D,{item:e,key:"book-".concat(e.id)})},noResultsContent:te(t),modifier:n})};var ne=function(e){var t=e.libkeyAvailability;return r.a.createElement("div",{className:"browzine-badge"},t.fullTextFile&&r.a.createElement("a",{href:t.fullTextFile,className:"browzine-badge__download-now",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://assets.thirdiron.com/images/integrations/browzine-pdf-download-icon.svg",className:"browzine-pdf-icon","aria-hidden":"true",width:"12",height:"16",alt:""}),r.a.createElement("span",{className:"browzine-web-link-text"},"Download Now",r.a.createElement("span",{className:"browzine-badge__pdf_notice"}," (PDF)"))),t.browzineWebLink&&r.a.createElement("a",{className:"browzine-badge__view-issue",href:t.browzineWebLink,"aria-hidden":"true",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"https://assets.thirdiron.com/images/integrations/browzine-open-book-icon.svg",className:"browzine-book-icon","aria-hidden":"true",width:"15",height:"15",alt:""}),r.a.createElement("span",{className:"browzine-web-link-text"},"View Issue Contents")))};var re=function(e){var t=e.article;return r.a.createElement("li",{className:"article-result-item media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h3",{className:"article-result-item__media-heading media-heading"},r.a.createElement("a",{href:o(t,!0),className:"article-result-item__title",target:"_blank",rel:"noreferrer noopener"},t.title)),t.date,r.a.createElement("div",{className:"article-result-item__creator"},d(t)),r.a.createElement("div",{className:"article-result-item__publisher"},function(e,t){var a=(e=e.length>0?e[0]:"").split(t);return t&&2===a.length?r.a.createElement("span",{className:"article-result-item__journal-title"},a[0],r.a.createElement("cite",null,t),a[1]):r.a.createElement("span",null,e)}(t.isPartOf,t.journalTitle)),t.libkeyAvailability&&r.a.createElement(ne,{libkeyAvailability:t.libkeyAvailability})))};function ie(){var e=Object(K.a)(['\n{\n  searchArticles( keyword: "','", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      dOI,\n      creator,\n      contributors,\n      coverImages {\n        url\n      },\n      isPartOf,\n      journalTitle\n            libkeyAvailability {\n        fullTextFile\n        contentLocation\n        availableThroughBrowzine\n        browzineWebLink\n        journals {\n          browzineEnabled\n          browzineWebLink\n        }\n      }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}']);return ie=function(){return e},e}var le=function e(t){Object(G.a)(this,e),this.object="searchArticles",this.gql=function(e){return X()(ie(),Y(e))}(t)};var ce=function(e){var t=e.searchString,a=e.client,n=e.handleFetch;return r.a.createElement(Q,{client:a,heading:"Articles",classPrefix:"articles",term:"articles",query:new le(t),renderResult:function(e){return r.a.createElement(re,{article:e,key:"article-".concat(e.id)})},handleFetch:n})};var se=function(e){var t=e.result;return r.a.createElement("li",null,r.a.createElement("a",{href:t.url},t.question))};function oe(){var e=Object(K.a)(['\n{\n  searchFAQ( keyword: "','", limit: 3) {\n    results {\n      id,\n      question,\n      url\n    },   \n    searchUrl,\n    total\n  }\n}']);return oe=function(){return e},e}var ue=function e(t){Object(G.a)(this,e),this.object="searchFAQ",this.gql=function(e){return X()(oe(),Y(e))}(t)};var me=function(e){var t=e.searchString,a=e.client;return r.a.createElement(Q,{client:a,heading:"FAQ",classPrefix:"faq",term:"results",query:new ue(t),renderResult:function(e){return r.a.createElement(se,{result:e,key:"answer-".concat(e.id)})}})};var de=function(e){var t=e.librarian,a="http://libguides.bc.edu/prf.php?account_id=".concat(t.id),n="//".concat(t.image),i="picture of ".concat(t.name),l=t.subjects.sort().join(", ");return r.a.createElement("li",{className:"media"},r.a.createElement("div",{className:"media-left"},r.a.createElement("a",{href:a},r.a.createElement("img",{src:n,alt:i}))),r.a.createElement("div",{className:"media-body"},r.a.createElement("h3",{className:"media-heading"},r.a.createElement("a",{href:a},t.name)),r.a.createElement("p",{className:"guide-description"},l)))};function he(){var e=Object(K.a)(['\n{\n  recommendLibrarian( keyword: "','") {\n    total\n    searchUrl\n    docs {\n      id\n      name\n      email\n      subjects\n      image\n    }\n  }\n}']);return he=function(){return e},e}var fe=function e(t){Object(G.a)(this,e),this.object="recommendLibrarian",this.gql=function(e){return X()(he(),Y(e))}(t)};var ve=function(e){var t=e.searchString,a=e.client;return r.a.createElement(Q,{client:a,heading:"Librarians",classPrefix:"librarian",term:"librarians",query:new fe(t),renderResult:function(e){return r.a.createElement(de,{librarian:e,key:"librarian-".concat(e.id)})}})};function be(){var e=Object(K.a)(['\n{\n  searchVideo( keyword: "','", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages { \n        url\n      },\n      available,\n      isPhysical,\n      isElectronic,\n      screenCap,\n      format,\n      mms,\n      holdings {\n        ilsId,\n        libraryCode,\n        locationDisplay,\n        locationCode,\n        availabilityStatus,\n        callNumber,\n        items {\n          availability,\n          locationCode,\n          location,\n          libraryDisplay,\n          library,\n          callNumber\n          }\n        }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}']);return be=function(){return e},e}var ge=function e(t){Object(G.a)(this,e),this.object="searchVideo",this.gql=function(e){return X()(be(),Y(e))}(t)};var Ee=function(e){var t=e.searchString,a=e.client;return r.a.createElement(Q,{client:a,heading:"Videos",classPrefix:"videos",term:"videos",query:new ge(t),renderResult:function(e){return r.a.createElement(T,{item:e,key:"video-".concat(e.id)})}})};function pe(e){return{__html:e.highlight[1]}}var ye=function(e){var t=e.hit;return r.a.createElement("li",{className:"website-hit"},r.a.createElement("h3",{className:"website-hit__title"},r.a.createElement("a",{href:t.url},t.title)),"in ",r.a.createElement("a",{href:t.guideUrl,className:"website-hit__guide-title"},t.guideTitle),r.a.createElement("div",{className:"website-hit__highlight",dangerouslySetInnerHTML:pe(t)}))};function _e(){var e=Object(K.a)(['\n{\n  searchWebsite( keyword: "','") {\n    total\n    searchUrl\n    docs {\n      title\n      guideTitle\n      updated\n      url\n      guideUrl\n      fullTitle\n      highlight\n    }\n  }\n}']);return _e=function(){return e},e}var Ne=function e(t){Object(G.a)(this,e),this.object="searchWebsite",this.gql=function(e){return X()(_e(),Y(e))}(t)};var we=function(e){var t=e.searchString,a=e.client;return r.a.createElement(Q,{client:a,heading:"Our Website",classPrefix:"website",term:"results",query:new Ne(t),renderResult:function(e){return r.a.createElement(ye,{hit:e,key:"hit-".concat(e.url)})}})},ke=function e(t){Object(G.a)(this,e),this.source=t,this.title=null,this.doi=null,this.authors=[],this.containerTitle=null,this.date=null,this.issueInfo=null,this.link=null},xe=["January","February","March","April","May","June","July","August","September","October","November","December"];function je(e){var t,a=new ke("crossref");return a.title=e.titles[0],a.doi=e.DOI,a.authors=function(e){if(void 0===e||0===e.length)return[];return e.map(function(e){return"".concat(e.familyName,", ").concat(e.givenName)})}(e.authors),a.containerTitle=(t=e.containerTitles)&&t[0]?t[0]:null,a.date=e.publishedPrintDate.length>0?Oe(e.publishedPrintDate):Oe(e.publishedOnlineDate),a.issueInfo=function(e,t,a){var n=[];e&&!t?n.push("".concat(e)):t&&!e?n.push("".concat(t)):e&&t&&n.push("".concat(e," (").concat(t,")"));a&&a.includes("-")?n.push("pp. ".concat(a)):a&&n.push("p. ".concat(a));return n.join(", ")}(e.volume,e.issue,e.page),a}function Oe(e){if(void 0===e)return"";var t=e.length;if(0===t)return null;var a=e[0];if(1===t)return"".concat(a,",");var n=xe[e[1]-1];return 2===t?"".concat(n," ").concat(a,","):"".concat(n," ").concat(a," ").concat(e[2],",")}var Se=function e(t){Object(G.a)(this,e),this.title=t.title,this.displayText=t.displayText,this.link=t.link};function Te(e,t,a){if(e&&e.displayText)return new Se(e);if(e&&e.fullText&&!function(e,t){t=t||[];var a=!1;return e=e.toLowerCase(),t.forEach(function(t){var n=t.dOI?t.dOI.toLowerCase():"";e===n&&"review"===t.type&&(a=!0)}),a}(e.fullText.crossRefData.DOI,t)){var n=je(e.fullText.crossRefData),r=e.fullText.libKeyData;return n.link=r.fullTextFile?r.fullTextFile:r.contentLocation,n}if(t){var i=function(e,t){return t.filter(function(t){var a=t.title.length>40,n=e.toLowerCase().trim()===t.title.toLowerCase().trim();return a&&n&&function(e){if(!e)return!1;return""!==e.fullTextFile||""!==e.contentLocation}(t.libkeyAvailability)})}(a,t);if(i.length>0){var l=function(e){var t=new ke("pci");return t.title=e.title,t.doi=e.dOI,t.authors=e.creator?e.creator.split("; "):[],t.date=e.date,t.containerTitle=e.journalTitle.length>0?e.journalTitle[0]:null,t.issueInfo=e.isPartOf.length>0?e.isPartOf[0]:null,t}(i[0]),c=i[0].libkeyAvailability;return l.link=c.fullTextFile?c.fullTextFile:c.contentLocation,l}}return null}var Ce=function(e){var t=e.bestBet;return H.info("Local Best Bet Result displayed: ".concat(t.title)),r.a.createElement("div",{className:"best-bet-row"},r.a.createElement("h2",{className:"best-bet-row__heading"},"Top result"),r.a.createElement("div",{className:"best-bet-result"},r.a.createElement("h3",{className:"best-bet-result__title"},t.link?r.a.createElement("a",{href:t.link,onClick:function(){H.info("Local Best Bet Result clicked: ".concat(t.title))}},t.title):r.a.createElement("span",null,t.title)),r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.displayText}})))};var Re=function(e){var t=e.fullText;return H.info("FullText Best Bet Result displayed: ".concat(t.title," ").concat(t.doi)),r.a.createElement("div",{className:"best-bet-row"},r.a.createElement("h2",{className:"best-bet-row__heading"},"Top result"),r.a.createElement("div",{className:"best-bet-result"},r.a.createElement("h3",{className:"best-bet-result__title"},r.a.createElement("a",{href:t.link,onClick:function(){H.info("FullText Best Bet Result clicked: ".concat(t.title," ").concat(t.doi))}},t.title)),r.a.createElement("p",{className:"best-bet-result__author"},function(e){var t=e.length;return e=e.slice(0,6),t>6&&e.push("et. al."),e.join("; ")}(t.authors)),r.a.createElement("p",{className:"best-bet-result__publication"},function(e){return"pci"===e.source?e.issueInfo:"".concat(e.containerTitle," ").concat(e.date," ").concat(e.issueInfo)}(t)),r.a.createElement("p",{className:"best-bet-result__doi"},"doi:",t.doi),r.a.createElement("a",{href:t.link,className:"pull-right btn btn-primary"},"Read")))};function Ie(){var e=Object(K.a)(['\n{\n  bestBet( keyword: "','") {\n    id\n    title\n    ...on LocalBestBet {\n      displayText\n      link\n    }\n    ...on CitationBestBet {\n      fullText {\n        libKeyData {\n          fullTextFile,\n          browzineWebLink\n          contentLocation\n        }\n        crossRefData {\n          titles\n          DOI\n          authors {\n            givenName\n            familyName\n            sequence\n          }\n          containerTitles\n          volume\n          issue\n          page\n          publishedPrintDate\n        }\n      }\n    }\n  }\n}']);return Ie=function(){return e},e}var De=function(e){var t=e.searchString,a=e.client,n=e.articleResults,i=Object(B.a)(function(e){return X()(Ie(),Y(e))}(t),{client:a}),l=i.loading,c=i.error,s=i.data;if(l||c||!s||!n)return null;var o=Te(s.bestBet,n,t);return o instanceof Se?r.a.createElement(Ce,{bestBet:o}):o instanceof ke?r.a.createElement(Re,{fullText:o}):null};var Be=function(e){var t=e.target,a=e.label;return r.a.createElement("div",null,r.a.createElement("span",{className:"link-to-results__skip_to_link",onClick:function(e){t.current&&t.current.scrollIntoView({behavior:"smooth",block:"start"})}},a))};function Fe(e){var t=e.booksDiv,a=e.articlesDiv,n=e.faqDiv,i=e.librariansDiv,l=e.videoDiv,c=e.websiteDiv;return r.a.createElement("div",{className:"row"},r.a.createElement("nav",{className:"link-to-results col-md-8"},r.a.createElement("div",{className:"link-to-results__skip-to"},"Skip to:"),r.a.createElement(Be,{target:t,label:"Books & more"}),r.a.createElement(Be,{target:a,label:"Articles"}),r.a.createElement(Be,{target:n,label:"FAQ"}),r.a.createElement(Be,{target:i,label:"Librarians"}),r.a.createElement(Be,{target:l,label:"Video"}),r.a.createElement(Be,{target:c,label:"Website"})),r.a.createElement("div",{className:"tell-us col-md-4"},r.a.createElement("a",{href:"https://forms.gle/cfqoEnM6s13KLWJu9"},"Tell us what you think!")))}var Le=a(106),Ue=a(16),Ae=a(100),qe=a(27),Pe=new Ue.b({introspectionQueryResultData:Ae}),We=new Ue.a({fragmentMatcher:Pe}),ze=new Le.a({cache:We,uri:"https://library.bc.edu/bcbento-server/graphql",link:new qe.a}),Ve=a(101),Me=a(105),He=a(102),Je=a(107),Qe=function(e){function t(e){var a;return Object(G.a)(this,t),(a=Object(Me.a)(this,Object(He.a)(t).call(this,e))).state={hasError:!1},a}return Object(Je.a)(t,e),Object(Ve.a)(t,[{key:"componentDidCatch",value:function(e,t){console.error(e),console.error(t),H.error("".concat(e.message,": ").concat(t.componentStack))}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(A,{heading:"Error"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(r.a.Component),Ke=a(46),Ge=a.n(Ke);var $e=function(e){var t=e.url;return r.a.createElement("div",{className:"finding-aid-link"},r.a.createElement("img",{src:Ge.a,className:"finding-aid-link__icon",alt:""}),r.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"Finding aid",r.a.createElement("i",{className:"fa fa-external-link","aria-hidden":"true"})))};function Xe(e){return Boolean(e.linkToFindingAid&&e.linkToFindingAid.url)}var Ye=function(e){var t=e.item;if(t.isElectronic&&"Video"===t.type)return r.a.createElement(T,{item:t,inCatalogResult:!0});var a=o(t);return r.a.createElement("li",{className:"catalog-result-item media"},r.a.createElement("div",{className:"media-body"},r.a.createElement("h3",{className:"catalog-result-item__media-heading media-heading"},r.a.createElement("a",{href:a,className:"catalog-result-item__title"},t.title)),r.a.createElement("div",{className:"catalog-result-item__creator"},d(t)),r.a.createElement("div",{className:"catalog-result-item__publisher"},t.publisher," ",t.date),r.a.createElement("div",{className:"catalog-result-item__type"},t.type),t.isElectronic&&r.a.createElement(I,{url:a}),t.isPhysical&&r.a.createElement(_,{item:t}),t.hathitrustUrl&&r.a.createElement(C,{url:t.hathitrustUrl}),Xe(t)&&r.a.createElement($e,{url:t.linkToFindingAid.url})),function(e,t){return e.coverImages.length>1?r.a.createElement(R,{imageUrl:e.coverImages[0].url,itemUrl:t}):Xe(e)?r.a.createElement(R,{imageUrl:Ge.a,itemUrl:t,specialClass:"finding-aid-thumb"}):null}(t,a))};function Ze(){var e=Object(K.a)(['\n{\n  searchCatalog( keyword: "','", limit: 3) {\n    docs {\n      id,\n      title,\n      date,\n      type,\n      creator,\n      contributors,\n      coverImages { \n        url\n      },\n      available,\n      hathitrustUrl,\n      linkToFindingAid {\n        url\n      },\n      isPhysical,\n      isElectronic,\n      screenCap,\n      mms,\n      holdings {\n        ilsId,\n        libraryCode,\n        locationDisplay,\n        locationCode,\n        availabilityStatus,\n        callNumber,\n        items {\n          availability,\n          locationCode,\n          location,\n          libraryDisplay,\n          library,\n          callNumber\n          }\n        }\n    },   \n    searchUrl,\n    didUMean,\n    total\n  }\n}']);return Ze=function(){return e},e}var et=function e(t){Object(G.a)(this,e),this.object="searchCatalog",this.gql=function(e){return X()(Ze(),Y(e))}(t)};function tt(e){var t=encodeURIComponent(e),a="https://bc.on.worldcat.org/search?databaseList=&queryString=".concat(t);return r.a.createElement("div",{className:"catalog-no-results-box"},r.a.createElement("p",null,"There are no results matching your search."),r.a.createElement("p",{className:"catalog-no-results-box__worldcat-advice"},"Try your search in ",r.a.createElement("a",{href:a},"WorldCat")," for results beyond BC Libraries."))}var at=function(e){var t=e.searchString,a=e.client,n=e.toggle;return r.a.createElement(Q,{client:a,heading:"Books & more",classPrefix:"books",term:"items",query:new et(t),renderResult:function(e){return r.a.createElement(Ye,{item:e,key:"book-".concat(e.id)})},noResultsContent:tt(t),modifier:n})};var nt=function(e){var t=e.isChecked,a=e.handleToggle,i=Object(n.useState)(!1),l=Object(c.a)(i,2),s=l[0],o=l[1],u=s?"catalog-toggle__explanation-displayed":"catalog-toggle__explanation-hidden";return r.a.createElement("div",{className:"catalog-toggle"},r.a.createElement("div",{className:"catalog-toggle__input-group"},r.a.createElement("label",{className:"catalog-toggle__label"},r.a.createElement("input",{type:"checkbox",checked:t,onChange:a})," Limit to online content"),r.a.createElement("span",{className:"catalog-toggle__help-link",onClick:function(){o(!s)}},"what's this?")),r.a.createElement("div",{className:u},"When this box is checked, search is limited to items available online. Uncheck the box to include our physical collections."))};function rt(){for(var e={parameters:{},keys:[]},t=window.location.search.split("&"),a=0;a<t.length;a++){var n=t[a].split("="),r=Object(c.a)(n,2),i=r[0],l=r[1];e.parameters[i]=l,e.keys.push(i)}return e}function it(e){for(var t=[],a=0;a<e.keys.length;a++){var n=e.keys[a];t.push(n+"="+e.parameters[n])}var r=window.location.protocol+"//"+window.location.host+window.location.pathname+t.join("&");window.history.replaceState({path:r},"",r)}var lt=function(e,t){var a=Object(n.useState)(function(e){var t=rt();return-1===t.keys.indexOf(e)?"false":decodeURIComponent(t.parameters[e])}(e)||t),r=Object(c.a)(a,2),i=r[0],l=r[1];return[i,Object(n.useCallback)(function(t){l(t),"true"===t?function(e,t){var a=rt();a.parameters[e]=encodeURIComponent(t),-1===a.keys.indexOf(e)&&a.keys.push(e),it(a)}(e,t):function(e){var t=rt(),a=t.keys.indexOf(e);a>-1&&(t.keys.splice(a,1),delete t.parameters.key),it(t)}(e)},[e])]};var ct=function(e){var t=e.searchString,a=Object(n.useState)([]),i=Object(c.a)(a,2),l=i[0],s=i[1],o=lt("online"),u=Object(c.a)(o,2),m=u[0],d=u[1],h="true"===m,f={booksDiv:Object(n.useRef)(null),articlesDiv:Object(n.useRef)(null),faqDiv:Object(n.useRef)(null),librariansDiv:Object(n.useRef)(null),videoDiv:Object(n.useRef)(null),websiteDiv:Object(n.useRef)(null)},v={searchString:t,client:ze},b=r.a.createElement(nt,{handleToggle:function(){d(!h),d(h?"false":"true")},isChecked:h});return r.a.createElement("div",null,r.a.createElement(Fe,f),r.a.createElement("div",{className:"bento-results"},r.a.createElement(Qe,null,r.a.createElement(De,Object.assign({},v,{articleResults:l}))),r.a.createElement("div",{className:"results-row-1 row"},r.a.createElement("div",{className:"col-md-5 col-sm-12",ref:f.booksDiv},r.a.createElement(Qe,null,h?r.a.createElement(ae,Object.assign({},v,{toggle:b})):r.a.createElement(at,Object.assign({},v,{toggle:b})))),r.a.createElement("div",{className:"col-md-5 col-md-offset-1 col-sm-12",ref:f.articlesDiv},r.a.createElement(Qe,null,r.a.createElement(ce,Object.assign({},v,{handleFetch:s}))))),r.a.createElement("div",{className:"results-row-2 row",ref:f.faqDiv},r.a.createElement("div",{className:"col-md-7"},r.a.createElement(Qe,null,r.a.createElement(me,v))),r.a.createElement("div",{className:"col-md-4 col-md-offset-1",ref:f.librariansDiv},r.a.createElement(Qe,null,r.a.createElement(ve,v)))),r.a.createElement("div",{className:"results-row-3 row",ref:f.videoDiv},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Qe,null,r.a.createElement(Ee,v)))),r.a.createElement("div",{className:"results-row-4 row",ref:f.websiteDiv},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(Qe,null,r.a.createElement(we,v))))))};var st=function(){return r.a.createElement("div",{className:"blank-search-screen"},r.a.createElement("div",{className:"blank-search-screen__explanation"},"Search for just about anything in or about the Libraries."))},ot=r.a.memo(function(e){return r.a.createElement(ct,{searchString:e.searchString})});var ut=function(e){var t=e.searchBox,a=e.searchString;return r.a.createElement("div",{className:"bento-results-page"},r.a.createElement("h1",{className:"sr-only sr-only-focusable",id:"main-heading"},"Search the library"),r.a.createElement("form",{method:"get",action:window.location.pathname,className:"bento-search-box"},t,r.a.createElement("button",{className:"btn btn-default",type:"submit"},r.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"}),r.a.createElement("span",{className:"search-button-text"},"Search"))),a?r.a.createElement(ot,{searchString:a}):r.a.createElement(st,null))},mt=a(69),dt=a.n(mt),ht=a(103),ft=a(104),vt=a.n(ft);var bt=function(e){var t=e.searchBoxId,a=e.suggestions,n=e.fetchSuggestions,i=e.clearSuggestions,l=e.onSuggestionSelected,c=e.inputProps;return r.a.createElement("div",{className:"bcbento-search-box"},r.a.createElement("label",{htmlFor:t,className:"bcbento-search-box__input-label sr-only"},"Enter a search term please"),r.a.createElement(vt.a,{suggestions:a,getSuggestionValue:function(e){return e.value},onSuggestionsFetchRequested:n,onSuggestionsClearRequested:i,renderSuggestion:function(e){return r.a.createElement("div",{className:"search-suggestion"},e.value)},onSuggestionSelected:l,inputProps:c}))};var gt=function(e){var t=e.searchBoxId,a=e.onTyping,n=e.value,i=e.setHasFocus;return r.a.createElement("textarea",{id:t,value:n,onChange:function(e){a(e,{newValue:e.target.value,method:"nomethod"})},onFocus:function(e){e.target.selectionStart=n.length,i(!0)},onBlur:function(e){i(!1)},name:"any",autoFocus:!0})},Et=a(246),pt=3,yt=50,_t="bento-search-box__search-input";function Nt(e,t){t.suggestion;var a=t.suggestionValue;t.suggestionIndex,t.sectionIndex,t.method;if(a){var n=window.location.protocol+"//"+window.location.host+window.location.pathname.replace(/\/$/,"");window.location.href="".concat(n,"?any=").concat(a)}}var wt=function(e){var t=e.handleTyping,a=e.searchString,i=e.onSubmit,l=Object(n.useState)([]),s=Object(c.a)(l,2),o=s[0],u=s[1],m=Object(n.useState)(a),d=Object(c.a)(m,2),h=d[0],f=d[1],v=Object(n.useState)(!h),b=Object(c.a)(v,2),g=b[0],E=b[1],p=h.length>=yt,y=h.length>=yt,_=function(e,a){var n=a.newValue;"enter"===a.method?i():(f(n),t(n))};function N(){return(N=Object(ht.a)(dt.a.mark(function e(t){var a,n,r,i,l;return dt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.value,n=t.reason,!(a.length<pt||"input-focused"===n)){e.next=3;break}return e.abrupt("return");case 3:return r="https://library.bc.edu/search-services/typeahead?any=".concat(a),i=[],e.prev=5,e.next=8,fetch(r);case 8:return l=e.sent,e.next=11,l.json();case 11:i=e.sent,e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),H.error("Error fetching suggestions for ".concat(a)),i=[];case 18:u(i);case 19:case"end":return e.stop()}},e,null,[[5,14]])}))).apply(this,arguments)}var w={searchBoxId:_t,suggestions:o,fetchSuggestions:function(e){return N.apply(this,arguments)},clearSuggestions:function(){u([])},onSuggestionSelected:Nt,inputProps:{placeholder:"Search for books, articles, journals, databases",value:h,onChange:_,name:"any",id:_t,autoFocus:g,onFocus:function(e){return E(!0)},onBlur:function(e){return E(!1)}}},k={onTyping:_,searchBoxId:_t,value:h,setHasFocus:E},x=p?r.a.createElement(gt,k):r.a.createElement(bt,w);return r.a.createElement(Et.a,{in:y,timeout:200,classNames:"searchbox-animate"},x)};a(164);function kt(e){document.title=e?"Search - ".concat(e):"Search"}var xt=function(){var e=function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}("any");kt(e);var t=Object(n.useState)(e),a=Object(c.a)(t,2),i=a[0],l=a[1],s=Object(n.useState)(""),o=Object(c.a)(s,2),u=o[0],m=o[1],d=r.a.createElement(wt,{searchString:i,handleTyping:function(e){return m(e)},handleSubmit:function(){l(u),kt(i)}});return r.a.createElement(ut,{searchBox:d,searchString:i})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(xt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},46:function(e,t,a){e.exports=a.p+"static/media/icon_archives.496c7381.svg"}},[[109,1,2]]]);
//# sourceMappingURL=main.cef644d8.chunk.js.map